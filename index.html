<!DOCTYPE html>
<html lang="zh-TW">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">
    <title>ç¢³å‰ TanJi - CCUS æ·¨é›¶æ±ºç­–æ¨¡æ“¬å™¨</title>
    <!-- Tailwind CSS -->
    <script src="https://cdn.tailwindcss.com"></script>
    <!-- Chart.js -->
    <script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
    <!-- Lucide Icons -->
    <script src="https://unpkg.com/lucide@latest"></script>
    <!-- Google Fonts -->
    <link href="https://fonts.googleapis.com/css2?family=Noto+Sans+TC:wght@300;400;500;700;900&display=swap" rel="stylesheet">
    <style>
        body { font-family: 'Noto Sans TC', sans-serif; overscroll-behavior-y: none; }
        /* æ»‘æ¡¿æ¨£å¼ */
        input[type=range] { -webkit-appearance: none; width: 100%; background: transparent; }
        input[type=range]::-webkit-slider-thumb {
            -webkit-appearance: none; height: 28px; width: 28px; border-radius: 50%;
            background: #ffffff; border: 2px solid currentColor; cursor: pointer; margin-top: -12px;
            box-shadow: 0 4px 6px rgba(0,0,0,0.1); transition: transform 0.1s;
        }
        input[type=range]::-webkit-slider-runnable-track {
            width: 100%; height: 6px; cursor: pointer; background: #e2e8f0; border-radius: 9999px;
        }
        /* æ»¾å‹•æ¢éš±è— */
        .no-scrollbar::-webkit-scrollbar { display: none; }
        .no-scrollbar { -ms-overflow-style: none; scrollbar-width: none; }
        /* å¡ç‰‡ç‰¹æ•ˆ */
        .site-card { transition: all 0.2s; }
        .site-card:active { transform: scale(0.96); }
        /* æˆ°æƒ…å®¤ç‰¹æ•ˆ */
        .dashboard-enter { animation: slideUp 0.5s ease-out forwards; }
        @keyframes slideUp { from { transform: translateY(20px); opacity: 0; } to { transform: translateY(0); opacity: 1; } }
    </style>
</head>
<body class="bg-slate-50 text-slate-800 h-[100dvh] flex flex-col overflow-hidden">

    <!-- é ‚éƒ¨å°èˆª -->
    <nav class="bg-white shadow-sm border-b border-slate-200 flex-none z-30">
        <div class="container mx-auto px-4 h-14 md:h-16 flex justify-between items-center">
            <div class="flex items-center gap-2 md:gap-3">
                <div class="w-8 h-8 md:w-10 md:h-10 bg-emerald-100 rounded-xl flex items-center justify-center text-emerald-600">
                    <i data-lucide="leaf" class="w-5 h-5 md:w-6 md:h-6"></i>
                </div>
                <div>
                    <h1 class="text-base md:text-lg font-bold text-slate-800 leading-tight">ç¢³å‰ TanJi</h1>
                    <p class="text-[10px] text-slate-500 font-medium tracking-wider hidden md:block">CCUS æ·¨é›¶æ±ºç­–æ¨¡æ“¬å™¨</p>
                </div>
            </div>
            <!-- åˆ‡æ›è¦–åœ–æŒ‰éˆ• -->
            <div class="flex gap-2">
                <button onclick="scrollToSection('simulator')" class="text-xs px-3 py-1.5 rounded-full bg-slate-100 text-slate-600 font-bold">æ¨¡æ“¬å™¨</button>
                <button onclick="scrollToSection('dashboard')" class="text-xs px-3 py-1.5 rounded-full bg-slate-800 text-white font-bold flex items-center gap-1">
                    <div class="w-2 h-2 bg-green-400 rounded-full animate-pulse"></div> æˆ°æƒ…å®¤
                </button>
            </div>
        </div>
    </nav>

    <!-- ä¸»å…§å®¹å€ -->
    <main class="flex-1 overflow-y-auto overflow-x-hidden p-3 md:p-6 no-scrollbar scroll-smooth relative" id="main-scroll">
        
        <!-- SECTION 1: æ¨¡æ“¬å™¨ (Simulator) -->
        <div id="section-simulator" class="container mx-auto max-w-6xl grid grid-cols-1 md:grid-cols-12 gap-4 md:gap-6 min-h-full pb-32">
            <!-- å·¦å´æ“ä½œå€ -->
            <div class="md:col-span-7 space-y-4 md:space-y-6">
                <!-- 1. å ´å€é¸æ“‡ -->
                <div class="bg-white rounded-2xl shadow-sm border border-slate-200 overflow-hidden">
                    <div class="px-4 py-3 border-b border-slate-100 bg-slate-50 flex items-center gap-2">
                        <span class="bg-slate-800 text-white w-5 h-5 rounded-full flex items-center justify-center text-xs font-bold">1</span>
                        <h2 class="text-sm md:text-base font-bold text-slate-700">é¸æ“‡å ´å€</h2>
                    </div>
                    <div class="p-4">
                        <div class="grid grid-cols-1 sm:grid-cols-3 gap-3">
                            <button onclick="selectSite('A')" id="btn-A" class="site-card p-3 rounded-xl border-2 border-slate-100 bg-white text-left flex sm:block items-center gap-3">
                                <div class="w-12 h-12 sm:w-full sm:h-20 rounded-lg bg-blue-50 text-blue-500 flex items-center justify-center text-2xl sm:text-4xl shrink-0">ğŸŒŠ</div>
                                <div><div class="font-bold text-slate-800">A. å¤–æµ·å°å­˜</div><div class="text-xs text-slate-500">Offshore</div></div>
                            </button>
                            <button onclick="selectSite('B')" id="btn-B" class="site-card p-3 rounded-xl border-2 border-slate-100 bg-white text-left flex sm:block items-center gap-3">
                                <div class="w-12 h-12 sm:w-full sm:h-20 rounded-lg bg-amber-50 text-amber-500 flex items-center justify-center text-2xl sm:text-4xl shrink-0">ğŸ­</div>
                                <div><div class="font-bold text-slate-800">B. å·¥æ¥­å€</div><div class="text-xs text-slate-500">Industrial</div></div>
                            </button>
                            <button onclick="selectSite('C')" id="btn-C" class="site-card p-3 rounded-xl border-2 border-slate-100 bg-white text-left flex sm:block items-center gap-3">
                                <div class="w-12 h-12 sm:w-full sm:h-20 rounded-lg bg-emerald-50 text-emerald-500 flex items-center justify-center text-2xl sm:text-4xl shrink-0">â›°ï¸</div>
                                <div><div class="font-bold text-slate-800">C. æ·±å±±åœ°è³ª</div><div class="text-xs text-slate-500">Mountain</div></div>
                            </button>
                        </div>
                        <div id="site-desc" class="mt-3 text-sm text-slate-600 bg-slate-50 p-3 rounded-lg border border-slate-200"></div>
                    </div>
                </div>

                <!-- 2. åƒæ•¸èª¿æ•´ -->
                <div class="bg-white rounded-2xl shadow-sm border border-slate-200">
                    <div class="px-4 py-3 border-b border-slate-100 bg-slate-50 flex items-center gap-2">
                        <span class="bg-slate-800 text-white w-5 h-5 rounded-full flex items-center justify-center text-xs font-bold">2</span>
                        <h2 class="text-sm md:text-base font-bold text-slate-700">è³‡æºé…ç½®</h2>
                    </div>
                    <div class="p-5 space-y-6">
                        <div>
                            <div class="flex justify-between mb-2"><label class="text-sm font-bold text-slate-700 flex gap-2"><i data-lucide="shield-check" class="w-4 h-4 text-blue-500"></i>å®‰å…¨ç›£æ¸¬</label><span class="text-xs font-bold text-blue-500" id="val-safety">æ¨™æº–</span></div>
                            <input type="range" min="1" max="5" value="3" class="text-blue-500" id="slider-safety" oninput="updateSimulation()">
                        </div>
                        <div>
                            <div class="flex justify-between mb-2"><label class="text-sm font-bold text-slate-700 flex gap-2"><i data-lucide="coins" class="w-4 h-4 text-amber-500"></i>å›é¥‹é‡‘</label><span class="text-xs font-bold text-amber-500" id="val-money">æ¨™æº–</span></div>
                            <input type="range" min="1" max="5" value="2" class="text-amber-500" id="slider-money" oninput="updateSimulation()">
                        </div>
                    </div>
                </div>
            </div>

            <!-- å³å´å„€è¡¨æ¿ -->
            <div class="md:col-span-5 space-y-4">
                <div class="bg-white rounded-2xl shadow-lg border border-slate-100 overflow-hidden relative">
                    <div class="p-4 bg-slate-50 border-b border-slate-100"><h3 class="font-bold text-center text-slate-800">å€‹äººè©•ä¼° (Your Impact)</h3></div>
                    <div class="p-4 h-[220px] relative"><canvas id="radarChart"></canvas></div>
                    <div class="grid grid-cols-3 divide-x divide-slate-100 border-t border-slate-100 bg-slate-50">
                        <div class="p-2 text-center"><div class="text-[10px] text-slate-400 font-bold">SAFETY</div><div class="text-lg font-black text-blue-600" id="score-safety">0</div></div>
                        <div class="p-2 text-center"><div class="text-[10px] text-slate-400 font-bold">ECONOMY</div><div class="text-lg font-black text-amber-600" id="score-economy">0</div></div>
                        <div class="p-2 text-center"><div class="text-[10px] text-slate-400 font-bold">SOCIAL</div><div class="text-lg font-black text-emerald-600" id="score-social">0</div></div>
                    </div>
                </div>
                <div class="bg-indigo-50 rounded-2xl border border-indigo-100 p-4">
                    <h3 class="font-bold text-indigo-900 flex items-center gap-2 mb-2 text-sm"><i data-lucide="bot" class="w-4 h-4"></i> AI åˆ†æ</h3>
                    <p id="ai-feedback" class="text-sm text-indigo-800 leading-relaxed">...</p>
                </div>
                <div class="h-20 md:hidden"></div>
            </div>
        </div>

        <!-- SECTION 2: å…¨ç­æˆ°æƒ…å®¤ (Class Dashboard) -->
        <div id="section-dashboard" class="container mx-auto max-w-6xl mt-12 mb-24 hidden dashboard-enter">
            <div class="flex items-center gap-3 mb-6">
                <div class="w-1 h-8 bg-slate-800 rounded-full"></div>
                <h2 class="text-2xl font-black text-slate-800">å…¨ç­æ±ºç­–æˆ°æƒ…å®¤</h2>
                <span class="text-xs bg-red-500 text-white px-2 py-1 rounded animate-pulse">LIVE</span>
            </div>

            <div class="grid grid-cols-1 md:grid-cols-3 gap-6">
                <!-- 1. é¸å€åˆ†ä½ˆåœ“é¤…åœ– -->
                <div class="bg-white p-5 rounded-2xl shadow-sm border border-slate-200">
                    <h3 class="font-bold text-slate-600 mb-4 text-center">å¤§å®¶é¸å“ªè£¡ï¼Ÿ(Site Distribution)</h3>
                    <div class="h-[200px] relative"><canvas id="pieChart"></canvas></div>
                    <div class="mt-4 grid grid-cols-3 text-center text-xs">
                        <div><span class="text-blue-500 font-bold">å¤–æµ·</span><br><span id="count-A">0</span>äºº</div>
                        <div><span class="text-amber-500 font-bold">å·¥æ¥­å€</span><br><span id="count-B">0</span>äºº</div>
                        <div><span class="text-emerald-500 font-bold">æ·±å±±</span><br><span id="count-C">0</span>äºº</div>
                    </div>
                </div>

                <!-- 2. å¹³å‡åˆ†æ•¸é•·æ¢åœ– -->
                <div class="bg-white p-5 rounded-2xl shadow-sm border border-slate-200">
                    <h3 class="font-bold text-slate-600 mb-4 text-center">å…¨ç­å¹³å‡æŒ‡æ¨™ (Class Average)</h3>
                    <div class="h-[200px] relative"><canvas id="barChart"></canvas></div>
                </div>

                <!-- 3. å³æ™‚å‹•æ…‹ -->
                <div class="bg-slate-900 text-slate-300 p-5 rounded-2xl shadow-sm border border-slate-800 overflow-hidden flex flex-col">
                    <h3 class="font-bold text-white mb-4 flex items-center gap-2"><i data-lucide="activity" class="w-4 h-4 text-green-400"></i> æœ€æ–°æ±ºç­–å‹•æ…‹</h3>
                    <div class="flex-1 overflow-y-auto space-y-3 pr-2 text-sm h-[200px]" id="activity-log">
                        <!-- å‹•æ…‹æ’å…¥ -->
                    </div>
                </div>
            </div>
        </div>

    </main>

    <!-- åº•éƒ¨æ‡¸æµ®æŒ‰éˆ• (é€å‡ºæ±ºç­–) -->
    <div class="fixed bottom-0 left-0 right-0 bg-white/90 backdrop-blur border-t border-slate-200 p-4 z-40" id="footer-action">
        <div class="container mx-auto max-w-6xl flex justify-between items-center">
            <div class="hidden sm:block">
                <div class="text-[10px] text-slate-400 font-bold uppercase">Your Score</div>
                <div class="text-3xl font-black text-slate-800 leading-none" id="footer-score">0.0</div>
            </div>
            <button onclick="submitDecision()" class="w-full sm:w-auto bg-slate-900 hover:bg-slate-800 text-white px-8 py-3 rounded-full font-bold shadow-lg flex items-center justify-center gap-2 transition-all active:scale-95 group">
                <span id="btn-text">ç¢ºèªé€å‡ºæ±ºç­–</span>
                <i data-lucide="send" class="w-4 h-4 group-hover:translate-x-1 transition-transform"></i>
            </button>
        </div>
    </div>

    <script>
        lucide.createIcons();

        // --- æ ¸å¿ƒé‚è¼¯ (èˆ‡ä¹‹å‰ç›¸åŒ) ---
        const sites = {
            'A': { name: 'å¤–æµ·', icon: 'ğŸŒŠ', desc: 'é é›¢å±…ä½å€ï¼Œç„¡é„°é¿å•é¡Œï¼Œä½†æµ·åº•ç®¡ç·šæˆæœ¬æ¥µé«˜ã€‚', base: { s: 85, e: 20, o: 95 } },
            'B': { name: 'å·¥æ¥­å€', icon: 'ğŸ­', desc: 'é‹è¼¸æˆæœ¬ä½ï¼Œä½†é„°é¿é¢¨éšªé«˜ï¼Œéœ€æ¥µé«˜çš„æºé€šæˆæœ¬ã€‚', base: { s: 50, e: 95, o: 15 } },
            'C': { name: 'æ·±å±±', icon: 'â›°ï¸', desc: 'åœ°è³ªç©©å®šï¼Œä½†å¯èƒ½ç ´å£ç”Ÿæ…‹ï¼Œéœ€æ¬Šè¡¡ç’°ä¿è­°é¡Œã€‚', base: { s: 70, e: 60, o: 55 } }
        };
        let state = { site: 'A', safety: 3, money: 2 };
        let radarChart = null;

        // --- æˆ°æƒ…å®¤æ•¸æ“š (æ¨¡æ“¬å¾Œç«¯) ---
        let classData = {
            siteCounts: { 'A': 12, 'B': 8, 'C': 5 }, // åˆå§‹å‡è³‡æ–™
            scores: { s: 75, e: 60, o: 65 },
            log: [
                { user: 'Student_01', site: 'A', time: '10:02' },
                { user: 'Student_02', site: 'B', time: '10:05' }
            ]
        };
        let pieChart = null, barChart = null;
        let isSimulationRunning = false;

        window.onload = function() {
            initRadar();
            selectSite('A');
            // åˆå§‹åŒ–æˆ°æƒ…å®¤å‡è³‡æ–™é¡¯ç¤º
            initDashboardCharts();
            renderLog(); // This was missing in the previous definition
        };

        // --- 1. æ¨¡æ“¬å™¨åŠŸèƒ½ ---
        function selectSite(id) {
            state.site = id;
            ['A','B','C'].forEach(s => {
                const btn = document.getElementById(`btn-${s}`);
                if (s === id) {
                    btn.className = "site-card p-3 rounded-xl border-2 bg-emerald-50 border-emerald-500 text-left flex sm:block items-center gap-3 ring-2 ring-emerald-200";
                } else {
                    btn.className = "site-card p-3 rounded-xl border-2 border-slate-100 bg-white text-left flex sm:block items-center gap-3 opacity-70 hover:opacity-100";
                }
            });
            document.getElementById('site-desc').innerText = sites[id].desc;
            updateSimulation();
        }

        function updateSimulation() {
            state.safety = parseInt(document.getElementById('slider-safety').value);
            state.money = parseInt(document.getElementById('slider-money').value);
            
            const labels = ['ä½', 'ä½', 'æ¨™æº–', 'é«˜', 'é«˜'];
            document.getElementById('val-safety').innerText = labels[state.safety-1];
            document.getElementById('val-money').innerText = labels[state.money-1];

            const base = sites[state.site].base;
            let s = Math.min(100, base.s + (state.safety * 5));
            let e = Math.max(10, base.e - (Math.pow(state.safety, 1.2)*5) - (state.money*8));
            let o = Math.min(100, Math.max(0, base.o + (state.money*10)));
            if(state.site === 'B' && s < 70) o -= 20;

            document.getElementById('score-safety').innerText = parseInt(s);
            document.getElementById('score-economy').innerText = parseInt(e);
            document.getElementById('score-social').innerText = parseInt(o);
            
            const total = ((s*0.4)+(e*0.25)+(o*0.35)).toFixed(1);
            document.getElementById('footer-score').innerText = total;

            radarChart.data.datasets[0].data = [s, e, o];
            radarChart.update();

            // AI Feedback
            let msg = "æ–¹æ¡ˆå¹³è¡¡ã€‚";
            if(s<60) msg = "âš ï¸ å®‰å…¨æ€§éä½ï¼Œç’°è©•é¢¨éšªå¤§ã€‚";
            else if(o<50) msg = "ğŸ“¢ å±…æ°‘æŠ—çˆ­é¢¨éšªé«˜ï¼Œè«‹å¢åŠ å›é¥‹ã€‚";
            else if(e<30) msg = "ğŸ’° æˆæœ¬éé«˜ï¼Œè²¡å‹™ä¸å¯è¡Œã€‚";
            document.getElementById('ai-feedback').innerText = msg;
        }

        function initRadar() {
            const ctx = document.getElementById('radarChart').getContext('2d');
            radarChart = new Chart(ctx, {
                type: 'radar',
                data: {
                    labels: ['å®‰å…¨æ€§', 'ç¶“æ¿Ÿ', 'ç¤¾æœƒ'],
                    datasets: [{ data: [50,50,50], backgroundColor: 'rgba(16,185,129,0.2)', borderColor: '#10b981', borderWidth: 2 }]
                },
                options: { responsive: true, maintainAspectRatio: false, scales: { r: { min: 0, max: 100, ticks: { display: false } } }, plugins: { legend: { display: false } } }
            });
        }

        // --- 2. æˆ°æƒ…å®¤åŠŸèƒ½ (Dashboard) ---
        function submitDecision() {
            const btn = document.querySelector('#footer-action button');
            btn.innerHTML = `<i data-lucide="loader-2" class="w-4 h-4 animate-spin"></i> ä¸Šå‚³æ•¸æ“šä¸­...`;
            lucide.createIcons();

            // æ¨¡æ“¬ä¸Šå‚³å»¶é²
            setTimeout(() => {
                btn.innerHTML = `<i data-lucide="check" class="w-4 h-4"></i> å·²é€å‡º`;
                btn.classList.add('bg-green-600');
                
                // é¡¯ç¤ºæˆ°æƒ…å®¤
                document.getElementById('section-dashboard').classList.remove('hidden');
                
                // è‡ªå‹•æ²å‹•
                setTimeout(() => {
                    document.getElementById('section-dashboard').scrollIntoView({ behavior: 'smooth' });
                    // é–‹å§‹æ¨¡æ“¬åŒå­¸æ•¸æ“šé€²ä¾†
                    if(!isSimulationRunning) startLiveSimulation();
                }, 500);
            }, 1000);
        }

        function scrollToSection(id) {
            const el = document.getElementById(`section-${id}`);
            if(el) {
                el.classList.remove('hidden');
                el.scrollIntoView({ behavior: 'smooth' });
            }
        }

        function initDashboardCharts() {
            // Pie Chart
            const ctxPie = document.getElementById('pieChart').getContext('2d');
            pieChart = new Chart(ctxPie, {
                type: 'doughnut',
                data: {
                    labels: ['å¤–æµ·', 'å·¥æ¥­å€', 'æ·±å±±'],
                    datasets: [{
                        data: [12, 8, 5],
                        backgroundColor: ['#3b82f6', '#f59e0b', '#10b981']
                    }]
                },
                options: { responsive: true, maintainAspectRatio: false, plugins: { legend: { position: 'right' } } }
            });

            // Bar Chart
            const ctxBar = document.getElementById('barChart').getContext('2d');
            barChart = new Chart(ctxBar, {
                type: 'bar',
                data: {
                    labels: ['å¹³å‡å®‰å…¨', 'å¹³å‡ç¶“æ¿Ÿ', 'å¹³å‡ç¤¾æœƒ'],
                    datasets: [{
                        label: 'å…¨ç­å¹³å‡',
                        data: [75, 60, 65],
                        backgroundColor: ['rgba(59,130,246,0.7)', 'rgba(245,158,11,0.7)', 'rgba(16,185,129,0.7)'],
                        borderRadius: 5
                    }]
                },
                options: { responsive: true, maintainAspectRatio: false, scales: { y: { beginAtZero: true, max: 100 } }, plugins: { legend: { display: false } } }
            });
        }
        
        // This function was missing and caused the error
        function renderLog() {
            const logEl = document.getElementById('activity-log');
            logEl.innerHTML = ''; // Clear initial content if any
            
            // Loop through existing log entries in classData (historical data)
            // Assuming array is [older, ..., newer], we want newest on top.
            // But since startLiveSimulation uses insertBefore(..., firstChild), it stacks new ones on top.
            // For historical data, let's just reverse iterate them so the last one in array appears on top?
            // Or simpler, just append them in order, so index 0 is top.
            // Let's assume classData.log is sorted with index 0 being the latest.
            
            classData.log.forEach(entry => {
                const newLog = document.createElement('div');
                newLog.className = "flex justify-between items-center border-b border-slate-800 pb-2";
                const color = entry.site === 'A' ? 'text-blue-400' : (entry.site === 'B' ? 'text-amber-400' : 'text-emerald-400');
                const siteName = entry.site === 'A' ? 'å¤–æµ·' : (entry.site === 'B' ? 'å·¥æ¥­å€' : 'æ·±å±±');
                
                newLog.innerHTML = `
                    <div class="flex items-center gap-2">
                        <div class="w-2 h-2 rounded-full bg-slate-500"></div>
                        <span>${entry.user}</span>
                    </div>
                    <div class="${color} font-bold text-xs">${siteName}</div>
                `;
                
                // Append to the list
                logEl.appendChild(newLog);
            });
        }

        // --- 3. æ¨¡æ“¬å³æ™‚é€£ç·šç‰¹æ•ˆ (Live Simulation) ---
        function startLiveSimulation() {
            isSimulationRunning = true;
            setInterval(() => {
                // 1. éš¨æ©Ÿç”¢ç”Ÿä¸€å€‹æ–°åŒå­¸çš„æ±ºç­–
                const randomSite = ['A', 'B', 'C'][Math.floor(Math.random() * 3)];
                const randomUser = `åŒå­¸_${Math.floor(Math.random()*90 + 10)}`;
                
                // 2. æ›´æ–°æ•¸æ“š
                classData.siteCounts[randomSite]++;
                classData.scores.s += (Math.random()*10 - 5); // éš¨æ©Ÿæµ®å‹•
                
                // 3. æ›´æ–°åœ–è¡¨
                pieChart.data.datasets[0].data = [classData.siteCounts.A, classData.siteCounts.B, classData.siteCounts.C];
                pieChart.update();
                
                // 4. æ›´æ–° Log
                const logEl = document.getElementById('activity-log');
                const now = new Date();
                const timeStr = `${now.getHours()}:${now.getMinutes().toString().padStart(2, '0')}`;
                
                const newLog = document.createElement('div');
                newLog.className = "flex justify-between items-center border-b border-slate-800 pb-2 animate-pulse";
                const color = randomSite === 'A' ? 'text-blue-400' : (randomSite === 'B' ? 'text-amber-400' : 'text-emerald-400');
                const siteName = randomSite === 'A' ? 'å¤–æµ·' : (randomSite === 'B' ? 'å·¥æ¥­å€' : 'æ·±å±±');
                
                newLog.innerHTML = `
                    <div class="flex items-center gap-2">
                        <div class="w-2 h-2 rounded-full bg-slate-500"></div>
                        <span>${randomUser}</span>
                    </div>
                    <div class="${color} font-bold text-xs">${siteName}</div>
                `;
                
                logEl.insertBefore(newLog, logEl.firstChild);
                if(logEl.children.length > 10) logEl.removeChild(logEl.lastChild);
                
                // æ›´æ–°æ•¸å­—é¡¯ç¤º
                document.getElementById('count-A').innerText = classData.siteCounts.A;
                document.getElementById('count-B').innerText = classData.siteCounts.B;
                document.getElementById('count-C').innerText = classData.siteCounts.C;

            }, 3000); // æ¯ 3 ç§’æœ‰ä¸€ç­†æ–°è³‡æ–™
        }
    </script>
</body>
</html>
